



<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copiar al portapapeles">
      
        <meta name="lang:clipboard.copied" content="Copiado al portapapeles">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No se encontraron documentos">
      
        <meta name="lang:search.result.one" content="1 documento encontrado">
      
        <meta name="lang:search.result.other" content="# documentos encontrados">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>Miniproyecto. Juego de las siete y media - TPDAM-iOS</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#miniproyecto-de-ios-4-puntos" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="TPDAM-iOS" class="md-header-nav__button md-logo">
          
            <img src="../../logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              TPDAM-iOS
            </span>
            <span class="md-header-nav__topic">
              
                Miniproyecto. Juego de las siete y media
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Teclee para comenzar búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="TPDAM-iOS" class="md-nav__button md-logo">
      
        <img src="../../logo.png" width="48" height="48">
      
    </a>
    TPDAM-iOS
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../s1/swift_basico/" title="Introducción básica a Swift" class="md-nav__link">
      Introducción básica a Swift
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../s1/ejercicios/" title="Ejercicios de Swift básico" class="md-nav__link">
      Ejercicios de Swift básico
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../s2/aplicaciones_ios/" title="Introducción a las aplicaciones iOS" class="md-nav__link">
      Introducción a las aplicaciones iOS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../s2/recursos/" title="Recursos en aplicaciones iOS" class="md-nav__link">
      Recursos en aplicaciones iOS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../s2/ejercicios/" title="Ejercicios sobre aplicaciones iOS" class="md-nav__link">
      Ejercicios sobre aplicaciones iOS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../s3/intro_swift_2/" title="Más sobre Swift" class="md-nav__link">
      Más sobre Swift
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../s3/concurrencia/" title="Concurrencia en iOS" class="md-nav__link">
      Concurrencia en iOS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../s4/comunicacion/" title="Comunicación entre componentes" class="md-nav__link">
      Comunicación entre componentes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../s4/i18n/" title="Internacionalización de aplicaciones iOS" class="md-nav__link">
      Internacionalización de aplicaciones iOS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../s4/ejercicio_i18n/" title="Ejercicio de i18n" class="md-nav__link">
      Ejercicio de i18n
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
    <a href="./" title="Miniproyecto. Juego de las siete y media" class="md-nav__link md-nav__link--active">
      Miniproyecto. Juego de las siete y media
    </a>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../apendices/control_versiones/" title="Apéndice 1. Control de versiones en Xcode" class="md-nav__link">
      Apéndice 1. Control de versiones en Xcode
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../s5/testing/" title="Apéndice 2. Testing en Xcode" class="md-nav__link">
      Apéndice 2. Testing en Xcode
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="miniproyecto-de-ios-4-puntos">MiniProyecto de iOS (4 puntos)<a class="headerlink" href="#miniproyecto-de-ios-4-puntos" title="Permanent link">&para;</a></h1>
<h1 id="juego-de-las-siete-y-media">Juego de las siete y media<a class="headerlink" href="#juego-de-las-siete-y-media" title="Permanent link">&para;</a></h1>
<p>Se propone implementar el conocido juego de cartas de "<a href="https://es.wikipedia.org/wiki/Siete_y_media">las 7 y media</a>". </p>
<p>Para simplificar, solo habrá dos jugadores: el usuario contra la máquina que hace de banca. El usuario va pidiendo cartas una a una hasta que se pasa de 7 y medio o decide plantarse. La máquina no va sacando cartas una a una sino que obtiene una puntuación generada al azar.</p>
<p>Para crear el proyecto, como siempre elige la plantilla de <code>single view app</code>. En la segunda pantalla del asistente dale como nombre <code>SieteyMedia</code> . </p>
<h2 id="estructura-de-clases-del-modelo-1-punto">Estructura de clases del modelo (1 punto)<a class="headerlink" href="#estructura-de-clases-del-modelo-1-punto" title="Permanent link">&para;</a></h2>
<p>Ampliaremos el modelo que implementamos en la primera sesión. Ya tenemos el enum <code>Palo</code> y las clases <code>Carta</code> y <code>Mano</code>. Vamos a añadir las clases necesarias para el juego: la <code>Baraja</code> y el propio <code>Juego</code></p>
<h2 id="clase-baraja">Clase <code>Baraja</code><a class="headerlink" href="#clase-baraja" title="Permanent link">&para;</a></h2>
<p>todas las cartas de la baraja</p>
<ul>
<li>Propiedades: <code>cartas</code>, un array de <code>Carta</code></li>
<li>Métodos:<ul>
<li>El Inicializador debe rellenar el array de cartas con todas las cartas de la baraja</li>
<li><code>repartirCarta</code>: obtiene la última carta de la baraja y la elimina de ella. Podéis hacer esto por ejemplo con <a href="https://developer.apple.com/reference/swift/array/1539777-poplast"><code>popLast()</code></a> </li>
<li><code>barajar</code>: debe cambiar al azar el orden de las cartas en el <code>Array</code>. Una forma de implementar esto es usar el método <code>shuffle()</code> del <code>Array</code>.</li>
</ul>
</li>
</ul>
<h3 id="clase-juego">Clase <code>Juego</code><a class="headerlink" href="#clase-juego" title="Permanent link">&para;</a></h3>
<p>La estructura es libre ya que depende de vuestra implementación. No obstante, tened en cuenta que vais a necesitar métodos para:</p>
<ul>
<li>Sumar las cartas que hay en una mano, teniendo en cuenta que el 10,11 y 12 valen medio punto, y el resto su valor</li>
<li>Que el jugador saque una carta</li>
<li>Que el jugador se plante</li>
<li>acabar el juego y calcular el resultado</li>
<li>...</li>
</ul>
<h2 id="interfaz-grafico-simplificado-1-punto">Interfaz gráfico simplificado (1 punto)<a class="headerlink" href="#interfaz-grafico-simplificado-1-punto" title="Permanent link">&para;</a></h2>
<p>El <code>ViewController</code> contendrá una instancia de la clase <code>Juego</code>.</p>
<blockquote>
<p>Es normal que el <code>ViewController</code> tenga referencia del modelo. Pero no es aconsejable que también pase al revés. En el modelo no se debería guardar ninguna referencia al <em>controller</em>, para poder reutilizarlo independientemente de la interfaz gráfica. El <em>controller</em> puede enterarse de que ha pasado algo "interesante" (por ejemplo que se acaba el juego) a través de notificaciones.</p>
</blockquote>
<p>En esta versión muy simplificada de la interfaz solo aparecen en pantalla tres botones: "pedir carta", "plantarse" y "nueva partida", pero no se ven las cartas gráficamente. Eso sí, el juego debería funcionar correctamente, imprimiendo los mensajes con <code>print</code>.</p>
<blockquote>
<p>En esta versión simplificada no es necesario habilitar/deshabilitar los botones según la situación del juego (por ejemplo no hace falta deshabilitar "pedir carta" cuando la partida se ha terminado). No pasa nada si pulsar los botones de forma inconsistente da errores, ya que luego los deshabilitaremos.</p>
</blockquote>
<p>Además, para simplificar la mecánica del juego no es necesario que la máquina "saque cartas de verdad". Basta con generar una puntuación al azar e informar al usuario de la puntuación que ha sacado. Para que el juego tenga sentido así primero debería jugar el jugador humano y luego la máquina.</p>
<blockquote>
<p><strong>La versión anterior es solo una idea, podéis implementar cualquier variante que queráis</strong>, o cualquier mejora, incluyendo que la máquina saque cartas una por una, apostar una cantidad,...</p>
</blockquote>
<h2 id="completar-la-interfaz-1-punto">Completar la interfaz (1 punto)<a class="headerlink" href="#completar-la-interfaz-1-punto" title="Permanent link">&para;</a></h2>
<p>En la interfaz completa deberían aparecer pintadas las cartas en pantalla conforme se van repartiendo. Además los botones se deberían habilitar/deshabilitar adecuadamente (por ejemplo si la partida se ha terminado no se puede pedir carta).</p>
<h3 id="anadir-las-imagenes-de-las-cartas-al-proyecto">Añadir las imágenes de las cartas al proyecto<a class="headerlink" href="#anadir-las-imagenes-de-las-cartas-al-proyecto" title="Permanent link">&para;</a></h3>
<p>Descomprime el .zip de Moodle con las imágenes de las cartas en png, selecciona todos los archivos y "déjalos caer" dentro de la carpeta de recursos (<code>Assets.xcassets</code>). </p>
<p>Por cada imagen en png creará un <em>image set</em> con el nombre del archivo ( al estilo <code>1oros</code>, <code>3copas</code>, ...). Por desgracia solo disponemos de las imágenes de las cartas en baja resolución (@1x).</p>
<h3 id="como-dibujar-las-cartas">Cómo dibujar las cartas<a class="headerlink" href="#como-dibujar-las-cartas" title="Permanent link">&para;</a></h3>
<p>Cada vez que dibujemos en pantalla una carta estamos añadiendo a la pantalla actual un <code>UIImageView</code>. Tenemos que guardar referencias a todas las imágenes añadidas para poder borrarlas cuando acabe la partida. Definiremos esta propiedad en el <em>view controller</em> para guardarlas</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1">//propiedad de ViewController.swift</span>
<span class="kd">var</span> <span class="nv">vistasCartas</span> <span class="p">=</span> <span class="p">[</span><span class="bp">UIImageView</span><span class="p">]()</span>
</pre></div>
</td></tr></table>

<p>En lugar de dibujar las cartas directamente en su posición, podemos hacerlo fuera de la pantalla (es decir, con el origen del <em>frame</em> en coordenadas negativas) y luego hacer una animación hasta su posición definitiva. La siguiente función dibuja una carta con el efecto descrito. La <code>posicion</code> es el orden de la carta, para que se vayan colocando una al lado de la otra: 1, 2...</p>
<p>En el código de ejemplo usamos un tamaño de carta fijo de 70x100 puntos, en el apartado siguiente se te propone adaptarlo al tamaño real de la pantalla.</p>
<blockquote>
<p>Nótese que hablamos de puntos y no de pixeles ya que en código no se usa la resolución física sino una resolución "lógica". Hay dispositivos que tienen distinta resolución física pero usan la misma resolución lógica, lo que simplifica el desarrollo. Podéis ver una tabla con resoluciones físicas y lógicas de distintos dispositivos iOS en <a href="http://iosres.com">http://iosres.com</a> 
IMPORTANTE: para que la segunda línea de este código funcione tu tipo enumerado <code>Palo</code> debe tener un valor "interno" de tipo <code>String</code>. Esto lo puedes conseguir simplemente poniendo <code>enum Palo : String</code> en la definición del tipo.</p>
</blockquote>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="nf">dibujarCarta</span><span class="p">(</span><span class="n">carta</span><span class="p">:</span> <span class="n">Carta</span><span class="p">,</span> <span class="n">enPosicion</span> <span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nv">nombreImagen</span> <span class="p">=</span> <span class="nb">String</span><span class="p">(</span><span class="n">carta</span><span class="p">.</span><span class="n">valor</span><span class="p">)</span><span class="o">+</span><span class="nb">String</span><span class="p">(</span><span class="n">carta</span><span class="p">.</span><span class="n">palo</span><span class="p">.</span><span class="n">rawValue</span><span class="p">)</span>
    <span class="c1">//creamos un objeto imagen</span>
    <span class="kd">let</span> <span class="nv">imagenCarta</span> <span class="p">=</span> <span class="bp">UIImage</span><span class="p">(</span><span class="n">named</span><span class="p">:</span> <span class="n">nombreImagen</span><span class="p">)</span>
    <span class="c1">//para que la imagen sea un componente más del UI,</span>
    <span class="c1">//la encapsulamos en un UIImageView</span>
    <span class="kd">let</span> <span class="nv">cartaView</span> <span class="p">=</span> <span class="bp">UIImageView</span><span class="p">(</span><span class="n">image</span><span class="p">:</span> <span class="n">imagenCarta</span><span class="p">)</span>
    <span class="c1">//Inicialmente la colocamos fuera de la pantalla y más grande</span>
    <span class="c1">//para que parezca más cercana</span>
    <span class="c1">//&quot;frame&quot; son los límites de la vista, definen pos y tamaño</span>
    <span class="n">cartaView</span><span class="p">.</span><span class="n">frame</span> <span class="p">=</span> <span class="bp">CGRect</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="o">-</span><span class="mi">200</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="o">-</span><span class="mi">200</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="mi">300</span><span class="p">)</span>
    <span class="c1">//La rotamos, para que al &quot;repartirla&quot; haga un efecto de giro</span>
    <span class="n">cartaView</span><span class="p">.</span><span class="n">transform</span> <span class="p">=</span> <span class="bp">CGAffineTransform</span><span class="p">(</span><span class="n">rotationAngle</span><span class="p">:</span> <span class="n">CGFloat</span><span class="p">(</span><span class="nb">Double</span><span class="p">.</span><span class="n">pi</span><span class="p">));</span>
    <span class="c1">//La añadimos a la vista principal, si no no sería visible</span>
    <span class="kc">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">addSubview</span><span class="p">(</span><span class="n">cartaView</span><span class="p">)</span>
    <span class="c1">//guardamos la vista en el array, para luego poder eliminarla</span>
    <span class="kc">self</span><span class="p">.</span><span class="n">vistasCartas</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">cartaView</span><span class="p">)</span>
    <span class="c1">//Animación de repartir carta</span>
    <span class="bp">UIView</span><span class="p">.</span><span class="n">animate</span><span class="p">(</span><span class="n">withDuration</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">){</span>
        <span class="c1">//&quot;efecto caida&quot;: la llevamos a la posición final</span>
        <span class="n">cartaView</span><span class="p">.</span><span class="n">frame</span> <span class="p">=</span> <span class="bp">CGRect</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="mi">50</span><span class="o">+</span><span class="mi">70</span><span class="o">*</span><span class="p">(</span><span class="n">enPosicion</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">y</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span><span class="mi">70</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span><span class="mi">100</span><span class="p">);</span>
        <span class="c1">//0 como ángulo &quot;destino&quot;, para que rote mientras &quot;cae&quot;</span>
        <span class="n">cartaView</span><span class="p">.</span><span class="n">transform</span> <span class="p">=</span> <span class="bp">CGAffineTransform</span><span class="p">(</span><span class="n">rotationAngle</span><span class="p">:</span><span class="mi">0</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<h3 id="eliminar-las-cartas-de-la-pantalla">Eliminar las cartas de la pantalla<a class="headerlink" href="#eliminar-las-cartas-de-la-pantalla" title="Permanent link">&para;</a></h3>
<p>Una vez ha terminado la partida, o justo cuando comienza la siguiente, hay que borrar todas las cartas de la pantalla. Vamos recorriendo el array <code>self.vistasCartas</code> del <em>view controller</em> y vamos eliminando las cartas de la pantalla:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1">//Quitamos las cartas de la pantalla</span>
<span class="k">for</span> <span class="n">vistaCarta</span> <span class="k">in</span> <span class="kc">self</span><span class="p">.</span><span class="n">vistasCartas</span> <span class="p">{</span>
    <span class="n">vistaCarta</span><span class="p">.</span><span class="n">removeFromSuperview</span><span class="p">()</span>
<span class="p">}</span>
<span class="c1">//ya no tenemos imágenes de cartas en pantalla, ponemos el array a vacío</span>
<span class="kc">self</span><span class="p">.</span><span class="n">vistasCartas</span><span class="p">=[]</span>
</pre></div>
</td></tr></table>

<h3 id="adaptar-los-dibujos-a-la-resolucion-de-la-pantalla-05-puntos-adicionales">Adaptar los dibujos a la resolución de la pantalla (0,5 puntos ADICIONALES)<a class="headerlink" href="#adaptar-los-dibujos-a-la-resolucion-de-la-pantalla-05-puntos-adicionales" title="Permanent link">&para;</a></h3>
<p>OPCIONALMENTE, en lugar de dibujar las cartas con un tamaño y unas posiciones "fijas", puedes usar un porcentaje o fracción del ancho y alto total de la pantalla. Puedes obtener el ancho y alto de la pantalla del siguiente modo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">limitesPantalla</span> <span class="p">=</span> <span class="bp">UIScreen</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="n">bounds</span>
<span class="kd">let</span> <span class="nv">anchoPantalla</span> <span class="p">=</span> <span class="n">limitesPantalla</span><span class="p">.</span><span class="n">width</span>
<span class="kd">let</span> <span class="nv">altoPantalla</span> <span class="p">=</span> <span class="n">limitesPantalla</span><span class="p">.</span><span class="n">height</span>
</pre></div>
</td></tr></table>

<h3 id="como-manipular-los-botones">Cómo manipular los botones<a class="headerlink" href="#como-manipular-los-botones" title="Permanent link">&para;</a></h3>
<ul>
<li>Podéis habilitar/deshabilitar los botones por código poniendo su propiedad <code>isEnabled</code> a <code>true</code> o <code>false</code> respectivamente.</li>
<li>Para que un botón aparezca inicialmente deshabilitado, en el "attributes inspector" de la parte derecha de Xcode desmarcar la casilla <code>enabled</code> dentro de <code>state</code> (está a mitad de panel)</li>
<li>Para que se vea gráficamente que un botón está deshabilitado podéis ponerle un color distinto según el estado. Teniendo seleccionado el botón, en el <code>Attributes inspector</code> de la parte derecha de la pantalla, seleccionar el estado que nos interese en el desplegable. Al elegir colores (<em>text</em>, <em>shadow</em>, ...) serán los fijados para ese estado. </li>
</ul>
<p><img alt="" src="../images/estilos_boton.gif" /></p>
<h3 id="como-mostrar-mensajes-al-usuario">Cómo mostrar mensajes al usuario<a class="headerlink" href="#como-mostrar-mensajes-al-usuario" title="Permanent link">&para;</a></h3>
<p>Podéis mostrar el resultado del juego ("has ganado", "te has pasado",...) con un <code>UIAlertController</code>, que hará aparecer el típico cuadro de diálogo modal. El siguiente código muestra un cuadro que pone "¡¡Has perdido!!", con el título "Fin del juego", y con un único botón de "OK" que no hace nada especial, más que quitar el cuadro de diálogo. </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">alert</span> <span class="p">=</span> <span class="bp">UIAlertController</span><span class="p">(</span>
    <span class="n">title</span><span class="p">:</span> <span class="s">&quot;Fin del juego&quot;</span><span class="p">,</span>
    <span class="n">message</span><span class="p">:</span> <span class="s">&quot;¡¡Has perdido!!&quot;</span><span class="p">,</span>
    <span class="n">preferredStyle</span><span class="p">:</span> <span class="n">UIAlertControllerStyle</span><span class="p">.</span><span class="n">alert</span><span class="p">)</span>
<span class="kd">let</span> <span class="nv">action</span> <span class="p">=</span> <span class="bp">UIAlertAction</span><span class="p">(</span>
    <span class="n">title</span><span class="p">:</span> <span class="s">&quot;OK&quot;</span><span class="p">,</span>
    <span class="n">style</span><span class="p">:</span> <span class="n">UIAlertActionStyle</span><span class="p">.</span><span class="k">default</span><span class="p">)</span>
<span class="n">alert</span><span class="p">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
<span class="kc">self</span><span class="p">.</span><span class="n">present</span><span class="p">(</span><span class="n">alert</span><span class="p">,</span> <span class="n">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="n">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<h2 id="posibles-mejoras-hasta-1-punto">Posibles mejoras (hasta 1 punto)<a class="headerlink" href="#posibles-mejoras-hasta-1-punto" title="Permanent link">&para;</a></h2>
<p>El proyecto está abierto a cualquier posible mejora o modificación que queráis hacer, por ejemplo:</p>
<ul>
<li>Contabilizar y mostrar las partidas ganadas/perdidas (0,25)</li>
<li>Que se pueda apostar una cantidad y vaya contabilizando la cantidad  hasta el momento (0,5)</li>
<li>Que la máquina también vaya sacando cartas (1)</li>
<li>...</li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../s4/ejercicio_i18n/" title="Ejercicio de i18n" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Anterior
                </span>
                Ejercicio de i18n
              </span>
            </div>
          </a>
        
        
          <a href="../../apendices/control_versiones/" title="Apéndice 1. Control de versiones en Xcode" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Siguiente
                </span>
                Apéndice 1. Control de versiones en Xcode
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>